<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨ - AIå·¥å…·é›†</title>
    <meta name="description" content="æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨">
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="../../shared/css/common.css">
    
    <!-- å·¥å…·ç‰¹å®šæ ·å¼ -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .certificate-icon {
            background: #FFD700;
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            font-size: 0.8em;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1em;
            margin-top: 10px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .settings-panel, .preview-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .panel-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .text-input, .select-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .text-input:focus, .select-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .certificate-types {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .certificate-option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            text-align: left;
        }

        .certificate-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .certificate-option.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .certificate-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .certificate-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .generate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .preview-area {
            min-height: 500px;
            border: 2px dashed #ddd;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            position: relative;
            overflow: hidden;
        }

        .preview-placeholder {
            text-align: center;
            color: #6c757d;
        }

        .certificate-canvas {
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .download-btn {
            width: 100%;
            padding: 12px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            display: none;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: background 0.3s ease;
        }

        .download-btn:hover {
            background: #218838;
        }

        .download-btn.visible {
            display: flex;
        }

        .random-btn {
            width: 100%;
            padding: 12px;
            background: #FFA500;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: background 0.3s ease;
        }

        .random-btn:hover {
            background: #FF8C00;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="tool-container">
        <!-- å·¥å…·å¤´éƒ¨ -->
        <header class="tool-header">
            <div class="tool-header-content">
                <a href="../../index.html" class="back-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M10 4l-4 4 4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    è¿”å›å·¥å…·é›†
                </a>
                
                <div class="tool-title">
                    <h1>æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨</h1>
                    <p class="tool-subtitle">æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨</p>
                </div>
                
                <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2"/>
                        <path d="M10 2v2M10 16v2M18 10h-2M4 10H2M15.66 4.34l-1.41 1.41M5.75 14.25l-1.41 1.41M15.66 15.66l-1.41-1.41M5.75 5.75L4.34 4.34" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- å·¥å…·ä¸»å†…å®¹ -->
        <main class="tool-main">
            <div class="tool-card">
                <div class="tool-section">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        å·¥å…·åŠŸèƒ½
                    </h2>
                    
                    
            <div class="tool-card">
                <div class="tool-section">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨
                    </h2>
                    <div class="container">
        <div class="header">
            <h1>
                <span class="certificate-icon">ğŸ“œ</span>
                æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨
                <span class="certificate-icon">ğŸ†</span>
            </h1>
            <p>ç”Ÿæˆå„ç§æç¬‘è¯ä»¶ï¼Œè®©ç”Ÿæ´»å……æ»¡ä¹è¶£ï¼</p>
        </div>

        <div class="main-content">
            <div class="settings-panel">
                <h2 class="panel-title">
                    âš™ï¸ è¯ä»¶è®¾ç½®
                </h2>
                
                <div class="form-group">
                    <label for="userName">å§“å</label>
                    <input type="text" id="userName" class="text-input" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" value="å¼ ä¸‰">
                </div>

                <div class="form-group">
                    <label for="userTitle">ç§°å·/èŒä½ï¼ˆå¯é€‰ï¼‰</label>
                    <input type="text" id="userTitle" class="text-input" placeholder="å¦‚ï¼šèµ„æ·±ã€é«˜çº§ã€é¦–å¸­ç­‰">
                </div>

                <div class="form-group">
                    <label>è¯ä»¶ç±»å‹</label>
                    <div class="certificate-types" id="certificateTypes">
                        <!-- è¯ä»¶ç±»å‹å°†ç”±JavaScriptç”Ÿæˆ -->
                    </div>
                </div>

                <button class="random-btn" id="randomBtn">
                    ğŸ² éšæœºç”Ÿæˆ
                </button>

                <button class="generate-btn" id="generateBtn">
                    ğŸ¨ ç”Ÿæˆè¯ä»¶
                </button>
            </div>

            <div class="preview-panel">
                <h2 class="panel-title">
                    ğŸ‘€ è¯ä»¶é¢„è§ˆ
                </h2>
                
                <div class="preview-area" id="previewArea">
                    <div class="preview-placeholder">
                        <div style="font-size: 3em; margin-bottom: 15px;">ğŸ“œ</div>
                        <p>ç‚¹å‡»"ç”Ÿæˆè¯ä»¶"æŸ¥çœ‹æ•ˆæœ</p>
                    </div>
                </div>

                <button class="download-btn" id="downloadBtn">
                    ğŸ’¾ ä¸‹è½½è¯ä»¶
                </button>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>Â© å°è‹è¶£ç ”AI æ»‘ç¨½è¯ä»¶ç”Ÿæˆå™¨ | ä»…ä¾›å¨±ä¹ï¼Œè¯·å‹¿ç”¨äºæ­£å¼åœºåˆ</p>
    </div>

    
                </div>
            </div>
                    <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                    <div class="result-display" id="result">
                        <pre id="resultContent">å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...</pre>
                    </div>
                </div>
            </div>
        </main>

        <!-- å·¥å…·é¡µè„š -->
        <footer class="tool-footer">
            <p>ç”± <a href="../../index.html">AIå·¥å…·é›†</a> æä¾› | åŸåˆ›å·¥å…·</p>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="../../shared/js/utils.js"></script>
    <script>
        // å·¥å…·ç‰¹å®šçš„JavaScriptä»£ç 
        class ToolApp {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
            }

            setupEventListeners() {
                document.getElementById('processBtn').addEventListener('click', () => this.process());
                document.getElementById('clearBtn').addEventListener('click', () => this.clear());
                document.getElementById('copyBtn').addEventListener('click', () => this.copyResult());
                
                // å®æ—¶å¤„ç†ï¼ˆå¯é€‰ï¼‰
                document.getElementById('input').addEventListener('input', 
                    ToolUtils.debounce(() => this.process(), 300)
                );
            }

            process() {
                const input = document.getElementById('input').value;
                const result = this.processInput(input);
                this.displayResult(result);
            }

            processInput(input) {
                
        class FunnyCertificateGenerator {
            constructor() {
                this.userNameInput = document.getElementById('userName');
                this.userTitleInput = document.getElementById('userTitle');
                this.certificateTypesContainer = document.getElementById('certificateTypes');
                this.generateBtn = document.getElementById('generateBtn');
                this.randomBtn = document.getElementById('randomBtn');
                this.downloadBtn = document.getElementById('downloadBtn');
                this.previewArea = document.getElementById('previewArea');
                
                this.selectedType = null;
                this.currentCanvas = null;
                
                this.certificateTypes = [
                    {
                        id: 'moyu',
                        title: 'å…¨çƒæœ€ä½³æ‘¸é±¼è®¸å¯è¯',
                        desc: 'æˆæƒæŒè¯äººåœ¨å·¥ä½œæ—¶é—´è¿›è¡Œåˆç†æ‘¸é±¼',
                        emoji: 'ğŸŸ',
                        color: '#4ECDC4',
                        template: 'professional'
                    },
                    {
                        id: 'ganfan',
                        title: 'å¹²é¥­ç‹è£èª‰è¯ä¹¦',
                        desc: 'è¡¨å½°åœ¨å¹²é¥­é¢†åŸŸçš„æ°å‡ºè´¡çŒ®',
                        emoji: 'ğŸš',
                        color: '#FFD93D',
                        template: 'award'
                    },
                    {
                        id: 'shuijiao',
                        title: 'ç¡è§‰å† å†›è®¤è¯',
                        desc: 'è®¤è¯æŒè¯äººå…·å¤‡è¶…å¼ºç¡çœ èƒ½åŠ›',
                        emoji: 'ğŸ˜´',
                        color: '#A8E6CF',
                        template: 'certificate'
                    },
                    {
                        id: 'danshen',
                        title: 'å•èº«è´µæ—èº«ä»½è¯',
                        desc: 'è¯æ˜æŒè¯äººäº«å—å•èº«ç”Ÿæ´»',
                        emoji: 'ğŸ’',
                        color: '#FF8B94',
                        template: 'id'
                    },
                    {
                        id: 'chihuo',
                        title: 'åƒè´§ç­‰çº§è®¤è¯',
                        desc: 'è¯„å®šæŒè¯äººçš„åƒè´§ä¸“ä¸šæ°´å¹³',
                        emoji: 'ğŸ•',
                        color: '#FFAAA5',
                        template: 'professional'
                    },
                    {
                        id: 'youxi',
                        title: 'æ¸¸æˆå¤§ç¥è¯æ˜',
                        desc: 'è¯æ˜æŒè¯äººåœ¨æ¸¸æˆé¢†åŸŸçš„å®åŠ›',
                        emoji: 'ğŸ®',
                        color: '#B4A7D6',
                        template: 'award'
                    },
                    {
                        id: 'tufa',
                        title: 'ç§ƒå¤´é¢„è­¦è¯ä¹¦',
                        desc: 'æé†’æŒè¯äººæ³¨æ„å¤´å‘ä¿æŠ¤',
                        emoji: 'ğŸ‘¨â€ğŸ¦²',
                        color: '#D4A574',
                        template: 'warning'
                    },
                    {
                        id: 'jiaban',
                        title: 'åŠ ç­è¾¾äººå‹‹ç« ',
                        desc: 'è¡¨å½°åœ¨åŠ ç­æ–¹é¢çš„çªå‡ºè¡¨ç°',
                        emoji: 'ğŸ’¼',
                        color: '#87CEEB',
                        template: 'medal'
                    },
                    {
                        id: 'taobao',
                        title: 'æ·˜å®è´­ç‰©ä¸“å®¶',
                        desc: 'è®¤è¯æŒè¯äººçš„ç½‘è´­ä¸“ä¸šæŠ€èƒ½',
                        emoji: 'ğŸ›’',
                        color: '#FF6B6B',
                        template: 'professional'
                    },
                    {
                        id: 'zhuifan',
                        title: 'è¿½ç•ªç‹‚é­”è¯æ˜',
                        desc: 'è¯æ˜æŒè¯äººçš„è¿½ç•ªä¸“ä¸šæ°´å¹³',
                        emoji: 'ğŸ“º',
                        color: '#4ECDC4',
                        template: 'certificate'
                    }
                ];
                
                this.funnyNames = [
                    'ç‹å¤§é”¤', 'æç‹—è›‹', 'å¼ é“æŸ±', 'èµµé’¢è›‹', 'åˆ˜å¤§å£®',
                    'é™ˆå°æ˜', 'å‘¨å¤§ç¦', 'å´å½¦ç¥–', 'éƒ‘çˆ½çˆ½', 'å­™æ‚Ÿç©º',
                    'é©¬äº‘é£', 'æœ±å°çŒª', 'å¾å¤§è™¾', 'æ—é»›ç‰', 'è´¾å®ç‰'
                ];
                
                this.funnyTitles = [
                    'èµ„æ·±', 'é«˜çº§', 'é¦–å¸­', 'ç»ˆæ', 'ä¼ è¯´çº§',
                    'é’»çŸ³çº§', 'ç‹è€…çº§', 'å¤§å¸ˆçº§', 'ä¸“ä¸š', 'é¡¶çº§'
                ];
                
                this.initializeCertificateTypes();
                this.bindEvents();
            }

            initializeCertificateTypes() {
                this.certificateTypes.forEach((type, index) => {
                    const option = document.createElement('div');
                    option.className = 'certificate-option';
                    option.dataset.typeId = type.id;
                    
                    if (index === 0) {
                        option.classList.add('active');
                        this.selectedType = type;
                    }
                    
                    option.innerHTML = `
                        <div class="certificate-title">${type.emoji} ${type.title}</div>
                        <div class="certificate-desc">${type.desc}</div>
                    `;
                    
                    option.addEventListener('click', () => {
                        document.querySelectorAll('.certificate-option').forEach(opt => {
                            opt.classList.remove('active');
                        });
                        option.classList.add('active');
                        this.selectedType = type;
                    });
                    
                    this.certificateTypesContainer.appendChild(option);
                });
            }

            bindEvents() {
                this.generateBtn.addEventListener('click', () => {
                    this.generateCertificate();
                });
                
                this.randomBtn.addEventListener('click', () => {
                    this.generateRandom();
                });
                
                this.downloadBtn.addEventListener('click', () => {
                    this.downloadCertificate();
                });
            }

            generateRandom() {
                // éšæœºé€‰æ‹©å§“å
                const randomName = this.funnyNames[Math.floor(Math.random() * this.funnyNames.length)];
                this.userNameInput.value = randomName;
                
                // éšæœºé€‰æ‹©ç§°å·
                const randomTitle = Math.random() > 0.5 ? 
                    this.funnyTitles[Math.floor(Math.random() * this.funnyTitles.length)] : '';
                this.userTitleInput.value = randomTitle;
                
                // éšæœºé€‰æ‹©è¯ä»¶ç±»å‹
                const randomType = this.certificateTypes[Math.floor(Math.random() * this.certificateTypes.length)];
                document.querySelectorAll('.certificate-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                document.querySelector(`[data-type-id="${randomType.id}"]`).classList.add('active');
                this.selectedType = randomType;
                
                // è‡ªåŠ¨ç”Ÿæˆ
                this.generateCertificate();
            }

            generateCertificate() {
                const userName = this.userNameInput.value.trim();
                const userTitle = this.userTitleInput.value.trim();
                
                if (!userName) {
                    alert('è¯·è¾“å…¥å§“å');
                    return;
                }
                
                if (!this.selectedType) {
                    alert('è¯·é€‰æ‹©è¯ä»¶ç±»å‹');
                    return;
                }
                
                // åˆ›å»ºè¯ä»¶ç”»å¸ƒ
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // è®¾ç½®ç”»å¸ƒå°ºå¯¸
                canvas.width = 800;
                canvas.height = 600;
                
                // æ ¹æ®æ¨¡æ¿ç»˜åˆ¶è¯ä»¶
                this.drawCertificate(ctx, userName, userTitle, this.selectedType);
                
                // æ˜¾ç¤ºé¢„è§ˆ
                this.showPreview(canvas);
            }

            drawCertificate(ctx, userName, userTitle, type) {
                const now = new Date();
                const dateStr = now.toLocaleDateString('zh-CN');
                const certificateNumber = 'FC' + now.getFullYear() + String(now.getMonth() + 1).padStart(2, '0') + 
                                        String(now.getDate()).padStart(2, '0') + String(Math.floor(Math.random() * 10000)).padStart(4, '0');
                
                switch (type.template) {
                    case 'professional':
                        this.drawProfessionalTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    case 'award':
                        this.drawAwardTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    case 'certificate':
                        this.drawCertificateTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    case 'id':
                        this.drawIdTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    case 'warning':
                        this.drawWarningTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    case 'medal':
                        this.drawMedalTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                        break;
                    default:
                        this.drawProfessionalTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber);
                }
            }

            drawProfessionalTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, 800, 600);
                
                // è¾¹æ¡†
                ctx.strokeStyle = type.color;
                ctx.lineWidth = 8;
                ctx.strokeRect(20, 20, 760, 560);
                
                // å†…è¾¹æ¡†
                ctx.strokeStyle = type.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(40, 40, 720, 520);
                
                // é¡¶éƒ¨è£…é¥°
                ctx.fillStyle = type.color;
                ctx.fillRect(60, 60, 680, 80);
                
                // æ ‡é¢˜
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 32px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(type.title, 400, 115);
                
                // å¤§è¡¨æƒ…
                ctx.font = '80px Arial';
                ctx.fillText(type.emoji, 400, 220);
                
                // å…¹è¯æ˜
                ctx.fillStyle = '#333333';
                ctx.font = '24px Arial';
                ctx.fillText('å…¹è¯æ˜', 400, 280);
                
                // å§“å
                ctx.font = 'bold 36px Arial';
                ctx.fillStyle = type.color;
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 400, 330);
                
                // è¯ä»¶å†…å®¹
                ctx.fillStyle = '#333333';
                ctx.font = '20px Arial';
                ctx.fillText('ç¬¦åˆæœ¬è¯ä»¶æ‰€è¿°æ¡ä»¶ï¼Œç‰¹æ­¤è¯æ˜', 400, 380);
                
                // æ—¥æœŸå’Œç¼–å·
                ctx.fillStyle = '#666666';
                ctx.font = '16px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('å‘è¯æ—¥æœŸï¼š' + dateStr, 80, 480);
                ctx.textAlign = 'right';
                ctx.fillText('è¯ä»¶ç¼–å·ï¼š' + certificateNumber, 720, 480);
                
                // å°ç« 
                this.drawSeal(ctx, 600, 420, type.color);
            }

            drawAwardTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // æ¸å˜èƒŒæ™¯
                const gradient = ctx.createLinearGradient(0, 0, 800, 600);
                gradient.addColorStop(0, '#fff9e6');
                gradient.addColorStop(1, '#fff3d3');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 800, 600);
                
                // è£…é¥°è¾¹æ¡†
                ctx.strokeStyle = '#FFD700';
                ctx.lineWidth = 6;
                ctx.strokeRect(30, 30, 740, 540);
                
                // é¡¶éƒ¨è£…é¥°å¸¦
                ctx.fillStyle = '#FFD700';
                ctx.fillRect(50, 50, 700, 60);
                
                // å¥–æ¯å›¾æ¡ˆ
                ctx.font = '60px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ğŸ†', 400, 140);
                
                // æ ‡é¢˜
                ctx.fillStyle = '#8B4513';
                ctx.font = 'bold 28px Arial';
                ctx.fillText('è£èª‰è¯ä¹¦', 400, 180);
                ctx.font = 'bold 24px Arial';
                ctx.fillText('CERTIFICATE OF HONOR', 400, 210);
                
                // è¡¨æƒ…
                ctx.font = '50px Arial';
                ctx.fillText(type.emoji, 400, 270);
                
                // è·å¥–å†…å®¹
                ctx.fillStyle = '#333333';
                ctx.font = '20px Arial';
                ctx.fillText('ç‰¹æ­¤æˆäºˆ', 400, 320);
                
                ctx.font = 'bold 32px Arial';
                ctx.fillStyle = type.color;
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 400, 360);
                
                ctx.fillStyle = '#333333';
                ctx.font = 'bold 22px Arial';
                ctx.fillText(type.title, 400, 400);
                
                ctx.font = '18px Arial';
                ctx.fillText('ä»¥è¡¨å½°å…¶åœ¨ç›¸å…³é¢†åŸŸçš„æ°å‡ºè¡¨ç°', 400, 430);
                
                // åº•éƒ¨ä¿¡æ¯
                ctx.fillStyle = '#666666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('é¢å‘æ—¥æœŸï¼š' + dateStr, 80, 520);
                ctx.textAlign = 'right';
                ctx.fillText('è¯ä¹¦ç¼–å·ï¼š' + certificateNumber, 720, 520);
            }

            drawCertificateTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // èƒŒæ™¯
                ctx.fillStyle = '#f8f9fa';
                ctx.fillRect(0, 0, 800, 600);
                
                // ä¸»ä½“èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(60, 60, 680, 480);
                ctx.strokeStyle = type.color;
                ctx.lineWidth = 3;
                ctx.strokeRect(60, 60, 680, 480);
                
                // é¡¶éƒ¨æ ‡é¢˜æ 
                ctx.fillStyle = type.color;
                ctx.fillRect(80, 80, 640, 60);
                
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('è®¤è¯è¯ä¹¦', 400, 115);
                
                // è¡¨æƒ…
                ctx.font = '60px Arial';
                ctx.fillText(type.emoji, 400, 200);
                
                // è¯ä¹¦å†…å®¹
                ctx.fillStyle = '#333333';
                ctx.font = '18px Arial';
                ctx.fillText('æœ¬è¯ä¹¦è¯æ˜', 400, 240);
                
                ctx.font = 'bold 28px Arial';
                ctx.fillStyle = type.color;
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 400, 280);
                
                ctx.fillStyle = '#333333';
                ctx.font = '20px Arial';
                ctx.fillText('å·²é€šè¿‡', 400, 320);
                
                ctx.font = 'bold 22px Arial';
                ctx.fillText(type.title.replace('è®¤è¯', '').replace('è¯æ˜', '').replace('è¯ä¹¦', ''), 400, 350);
                
                ctx.font = '18px Arial';
                ctx.fillText('ç›¸å…³è®¤è¯è€ƒæ ¸', 400, 380);
                
                // åº•éƒ¨ä¿¡æ¯
                ctx.fillStyle = '#999999';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('è®¤è¯æ—¥æœŸï¼š' + dateStr, 100, 460);
                ctx.textAlign = 'right';
                ctx.fillText('è®¤è¯ç¼–å·ï¼š' + certificateNumber, 700, 460);
                
                // è®¤è¯å°ç« 
                this.drawSeal(ctx, 600, 400, type.color);
            }

            drawIdTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // èƒŒæ™¯
                ctx.fillStyle = '#e3f2fd';
                ctx.fillRect(0, 0, 800, 600);
                
                // å¡ç‰‡èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(100, 150, 600, 300);
                ctx.strokeStyle = type.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(100, 150, 600, 300);
                
                // é¡¶éƒ¨æ¡
                ctx.fillStyle = type.color;
                ctx.fillRect(100, 150, 600, 50);
                
                // æ ‡é¢˜
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 20px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(type.title, 400, 180);
                
                // å¤´åƒåŒºåŸŸ
                ctx.fillStyle = '#f0f0f0';
                ctx.fillRect(130, 220, 100, 120);
                ctx.strokeStyle = '#ddd';
                ctx.lineWidth = 1;
                ctx.strokeRect(130, 220, 100, 120);
                
                // å¤´åƒè¡¨æƒ…
                ctx.font = '60px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(type.emoji, 180, 290);
                
                // ä¸ªäººä¿¡æ¯
                ctx.fillStyle = '#333333';
                ctx.font = 'bold 18px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('å§“åï¼š', 260, 240);
                ctx.fillText('ç­‰çº§ï¼š', 260, 270);
                ctx.fillText('ç¼–å·ï¼š', 260, 300);
                ctx.fillText('æœ‰æ•ˆæœŸï¼š', 260, 330);
                
                ctx.font = '18px Arial';
                ctx.fillStyle = type.color;
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 320, 240);
                ctx.fillText('è‡³å°ŠVIP', 320, 270);
                ctx.fillText(certificateNumber, 320, 300);
                ctx.fillText('æ°¸ä¹…æœ‰æ•ˆ', 320, 330);
                
                // å‘è¯æ—¥æœŸ
                ctx.fillStyle = '#666666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('å‘è¯æ—¥æœŸï¼š' + dateStr, 400, 420);
            }

            drawWarningTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // èƒŒæ™¯
                ctx.fillStyle = '#fff3cd';
                ctx.fillRect(0, 0, 800, 600);
                
                // è­¦å‘Šè¾¹æ¡†
                ctx.strokeStyle = '#856404';
                ctx.lineWidth = 6;
                ctx.strokeRect(30, 30, 740, 540);
                
                // è­¦å‘Šæ¡çº¹
                ctx.fillStyle = '#ffc107';
                for (let i = 0; i < 800; i += 40) {
                    ctx.fillRect(i, 50, 20, 20);
                    ctx.fillRect(i + 20, 70, 20, 20);
                }
                
                // è­¦å‘Šæ ‡å¿—
                ctx.fillStyle = '#dc3545';
                ctx.font = '80px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('âš ï¸', 400, 150);
                
                // æ ‡é¢˜
                ctx.fillStyle = '#856404';
                ctx.font = 'bold 32px Arial';
                ctx.fillText('è­¦å‘Šè¯ä¹¦', 400, 200);
                
                // è¡¨æƒ…
                ctx.font = '50px Arial';
                ctx.fillText(type.emoji, 400, 260);
                
                // è­¦å‘Šå†…å®¹
                ctx.fillStyle = '#333333';
                ctx.font = '20px Arial';
                ctx.fillText('ç‰¹æ­¤è­¦å‘Š', 400, 300);
                
                ctx.font = 'bold 28px Arial';
                ctx.fillStyle = '#dc3545';
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 400, 340);
                
                ctx.fillStyle = '#333333';
                ctx.font = '18px Arial';
                ctx.fillText('å­˜åœ¨ä»¥ä¸‹é£é™©ï¼š', 400, 370);
                
                ctx.font = 'bold 20px Arial';
                ctx.fillText(type.desc, 400, 400);
                
                // åº•éƒ¨ä¿¡æ¯
                ctx.fillStyle = '#856404';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('è­¦å‘Šæ—¥æœŸï¼š' + dateStr, 80, 500);
                ctx.textAlign = 'right';
                ctx.fillText('è­¦å‘Šç¼–å·ï¼š' + certificateNumber, 720, 500);
            }

            drawMedalTemplate(ctx, userName, userTitle, type, dateStr, certificateNumber) {
                // èƒŒæ™¯
                const gradient = ctx.createRadialGradient(400, 300, 0, 400, 300, 400);
                gradient.addColorStop(0, '#fff');
                gradient.addColorStop(1, '#f0f8ff');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 800, 600);
                
                // å¥–ç‰ŒèƒŒæ™¯
                ctx.fillStyle = '#FFD700';
                ctx.beginPath();
                ctx.arc(400, 250, 120, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.strokeStyle = '#FFA500';
                ctx.lineWidth = 8;
                ctx.stroke();
                
                // å¥–ç‰Œå†…åœˆ
                ctx.fillStyle = '#FFF8DC';
                ctx.beginPath();
                ctx.arc(400, 250, 100, 0, 2 * Math.PI);
                ctx.fill();
                
                // è¡¨æƒ…
                ctx.font = '60px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(type.emoji, 400, 270);
                
                // ç»¶å¸¦
                ctx.fillStyle = type.color;
                ctx.fillRect(350, 130, 100, 40);
                ctx.fillRect(370, 170, 60, 40);
                
                // æ ‡é¢˜
                ctx.fillStyle = '#333333';
                ctx.font = 'bold 24px Arial';
                ctx.fillText('å‹‹ç« è¯ä¹¦', 400, 120);
                
                // è·å¾—è€…
                ctx.font = '18px Arial';
                ctx.fillText('æˆäºˆ', 400, 400);
                
                ctx.font = 'bold 28px Arial';
                ctx.fillStyle = type.color;
                const fullName = userTitle ? `${userTitle} ${userName}` : userName;
                ctx.fillText(fullName, 400, 440);
                
                ctx.fillStyle = '#333333';
                ctx.font = 'bold 20px Arial';
                ctx.fillText(type.title, 400, 470);
                
                // åº•éƒ¨ä¿¡æ¯
                ctx.fillStyle = '#666666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('é¢å‘æ—¥æœŸï¼š' + dateStr, 80, 540);
                ctx.textAlign = 'right';
                ctx.fillText('å‹‹ç« ç¼–å·ï¼š' + certificateNumber, 720, 540);
            }

            drawSeal(ctx, x, y, color) {
                // å°ç« å¤–åœˆ
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(x, y, 40, 0, 2 * Math.PI);
                ctx.stroke();
                
                // å°ç« å†…å®¹
                ctx.fillStyle = color;
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('å®˜æ–¹', x, y - 5);
                ctx.fillText('è®¤è¯', x, y + 15);
            }

            showPreview(canvas) {
                this.previewArea.innerHTML = '';
                this.previewArea.appendChild(canvas);
                canvas.className = 'certificate-canvas';
                this.currentCanvas = canvas;
                this.downloadBtn.classList.add('visible');
            }

            downloadCertificate() {
                if (!this.currentCanvas) {
                    alert('æ²¡æœ‰å¯ä¸‹è½½çš„è¯ä»¶');
                    return;
                }
                
                const link = document.createElement('a');
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const fileName = `${this.selectedType.title}_${this.userNameInput.value}_${timestamp}.png`;
                link.download = fileName;
                link.href = this.currentCanvas.toDataURL('image/png');
                link.click();
            }
        }

        // åˆå§‹åŒ–ç”Ÿæˆå™¨
        document.addEventListener('DOMContentLoaded', () => {
            new FunnyCertificateGenerator();
        });
    
                return input;
            }

            displayResult(result) {
                document.getElementById('resultContent').textContent = result;
            }

            clear() {
                document.getElementById('input').value = '';
                document.getElementById('resultContent').textContent = 'å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...';
            }

            copyResult() {
                const result = document.getElementById('resultContent').textContent;
                if (result && result !== 'å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...') {
                    ToolUtils.copyToClipboard(result);
                } else {
                    ToolUtils.showToast('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'warning');
                }
            }
        }

        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => {
            new ToolApp();
        });
    </script>
</body>
</html>
