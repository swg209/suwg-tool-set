<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ - AIå·¥å…·é›†</title>
    <meta name="description" content="å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ">
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="../../shared/css/common.css">
    
    <!-- å·¥å…·ç‰¹å®šæ ·å¼ -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .nav-tabs {
            display: flex;
            background: rgba(255,255,255,0.1);
            border-radius: var(--radius-lg);
            padding: 5px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: all 0.3s;
            font-size: 16px;
        }

        .nav-tab.active {
            background: white;
            color: var(--text-primary);
            font-weight: bold;
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .section-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* æ”¶é›†ç®±æ ·å¼ */
        .inbox-section {
            background: #f8f9fa;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
        }

        .quick-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quick-input input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .add-btn {
            padding: 12px 20px;
            background: #4ecdc4;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        /* å››è±¡é™çŸ©é˜µ */
        .matrix-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .quadrant {
            background: #f8f9fa;
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            min-height: 300px;
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .quadrant.urgent-important {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, #ff6b6b10, #ff6b6b05);
        }

        .quadrant.important-not-urgent {
            border-color: #4ecdc4;
            background: linear-gradient(135deg, #4ecdc410, #4ecdc405);
        }

        .quadrant.urgent-not-important {
            border-color: #ffa726;
            background: linear-gradient(135deg, #ffa72610, #ffa72605);
        }

        .quadrant.not-urgent-not-important {
            border-color: #9e9e9e;
            background: linear-gradient(135deg, #9e9e9e10, #9e9e9e05);
        }

        .quadrant-title {
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .task-item {
            background: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }

        .task-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* é¡¹ç›®ç®¡ç† */
        .project-card {
            background: #f8f9fa;
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: 20px;
            border-left: 5px solid #4ecdc4;
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .project-title {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--text-primary);
        }

        .project-progress {
            width: 100px;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            transition: width 0.3s;
        }

        /* ä¸‹ä¸€æ­¥è¡ŒåŠ¨ */
        .context-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .context-card {
            background: #f8f9fa;
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
        }

        .context-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #4ecdc4;
        }

        /* å›é¡¾ç³»ç»Ÿ */
        .review-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            opacity: 0.9;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            opacity: 0.8;
        }

        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn-primary { background: #4ecdc4; color: white; }
        .btn-danger { background: #ff6b6b; color: white; }
        .btn-warning { background: #ffa726; color: white; }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 500px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: var(--spacing-md);
                margin: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>
    <div class="tool-container">
        <!-- å·¥å…·å¤´éƒ¨ -->
        <header class="tool-header">
            <div class="tool-header-content">
                <a href="../../index.html" class="back-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M10 4l-4 4 4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    è¿”å›å·¥å…·é›†
                </a>
                
                <div class="tool-title">
                    <h1>å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ</h1>
                    <p class="tool-subtitle">å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ</p>
                </div>
                
                <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2"/>
                        <path d="M10 2v2M10 16v2M18 10h-2M4 10H2M15.66 4.34l-1.41 1.41M5.75 14.25l-1.41 1.41M15.66 15.66l-1.41-1.41M5.75 5.75L4.34 4.34" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- å·¥å…·ä¸»å†…å®¹ -->
        <main class="tool-main">
            <div class="tool-card">
                <div class="tool-section">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        å·¥å…·åŠŸèƒ½
                    </h2>
                    
                    
            <div class="tool-card">
                <div class="tool-section">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ
                    </h2>
                    <div class="container">
        <div class="header">
            <h1>ğŸ“š å°å¼ºå‡èŒè®° - GTDæ—¶é—´ç®¡ç†ç³»ç»Ÿ</h1>
            <p>æ”¶é›† â†’ å¤„ç† â†’ ç»„ç»‡ â†’ å›é¡¾ â†’ æ‰§è¡Œ</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('inbox')">ğŸ“¥ æ”¶é›†ç®±</button>
            <button class="nav-tab" onclick="showTab('matrix')">ğŸ“Š å››è±¡é™</button>
            <button class="nav-tab" onclick="showTab('projects')">ğŸ“‹ é¡¹ç›®ç®¡ç†</button>
            <button class="nav-tab" onclick="showTab('actions')">âš¡ ä¸‹ä¸€æ­¥è¡ŒåŠ¨</button>
            <button class="nav-tab" onclick="showTab('review')">ğŸ”„ å›é¡¾ç³»ç»Ÿ</button>
        </div>

        <!-- æ”¶é›†ç®± -->
        <div id="inbox" class="tab-content active">
            <div class="section-title">ğŸ“¥ æ”¶é›†ç®± - å¿«é€Ÿè®°å½•æ‰€æœ‰æƒ³æ³•</div>
            
            <div class="inbox-section">
                <div class="quick-input">
                    <input type="text" id="inboxInput" placeholder="å¿«é€Ÿè®°å½•ä»»ä½•æƒ³æ³•ã€ä»»åŠ¡æˆ–çµæ„Ÿ..." onkeypress="handleInboxEnter(event)">
                    <button class="add-btn" onclick="addToInbox()">æ·»åŠ </button>
                </div>
                
                <div id="inboxList"></div>
            </div>
        </div>

        <!-- å››è±¡é™çŸ©é˜µ -->
        <div id="matrix" class="tab-content">
            <div class="section-title">ğŸ“Š è‰¾æ£®è±ªå¨å°”çŸ©é˜µ - é‡è¦æ€§ä¸ç´§æ€¥æ€§åˆ†æ</div>
            
            <div class="matrix-grid">
                <div class="quadrant urgent-important">
                    <div class="quadrant-title">ğŸ”¥ é‡è¦ä¸”ç´§æ€¥ (ç«‹å³æ‰§è¡Œ)</div>
                    <div id="q1-tasks"></div>
                </div>
                <div class="quadrant important-not-urgent">
                    <div class="quadrant-title">â­ é‡è¦ä¸ç´§æ€¥ (è®¡åˆ’æ‰§è¡Œ)</div>
                    <div id="q2-tasks"></div>
                </div>
                <div class="quadrant urgent-not-important">
                    <div class="quadrant-title">âš¡ ç´§æ€¥ä¸é‡è¦ (å§”æ‰˜ä»–äºº)</div>
                    <div id="q3-tasks"></div>
                </div>
                <div class="quadrant not-urgent-not-important">
                    <div class="quadrant-title">ğŸ—‘ï¸ ä¸é‡è¦ä¸ç´§æ€¥ (åˆ é™¤)</div>
                    <div id="q4-tasks"></div>
                </div>
            </div>
        </div>

        <!-- é¡¹ç›®ç®¡ç† -->
        <div id="projects" class="tab-content">
            <div class="section-title">ğŸ“‹ é¡¹ç›®ç®¡ç† - å¤šæ­¥éª¤ä»»åŠ¡è·Ÿè¸ª</div>
            
            <button class="btn btn-primary" onclick="showAddProjectModal()">+ æ–°å»ºé¡¹ç›®</button>
            <div id="projectsList"></div>
        </div>

        <!-- ä¸‹ä¸€æ­¥è¡ŒåŠ¨ -->
        <div id="actions" class="tab-content">
            <div class="section-title">âš¡ ä¸‹ä¸€æ­¥è¡ŒåŠ¨ - æŒ‰æƒ…å¢ƒç»„ç»‡</div>
            
            <div class="context-section">
                <div class="context-card">
                    <div class="context-title">ğŸ’» @ç”µè„‘</div>
                    <div id="context-computer"></div>
                </div>
                <div class="context-card">
                    <div class="context-title">ğŸ“ @ç”µè¯</div>
                    <div id="context-phone"></div>
                </div>
                <div class="context-card">
                    <div class="context-title">ğŸ  @å®¶é‡Œ</div>
                    <div id="context-home"></div>
                </div>
                <div class="context-card">
                    <div class="context-title">ğŸ¢ @åŠå…¬å®¤</div>
                    <div id="context-office"></div>
                </div>
            </div>
        </div>

        <!-- å›é¡¾ç³»ç»Ÿ -->
        <div id="review" class="tab-content">
            <div class="section-title">ğŸ”„ å›é¡¾ç³»ç»Ÿ - å®šæœŸæ£€è§†ä¸è°ƒæ•´</div>
            
            <div class="review-stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalTasks">0</div>
                    <div class="stat-label">æ€»ä»»åŠ¡æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedTasks">0</div>
                    <div class="stat-label">å·²å®Œæˆ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeProjects">0</div>
                    <div class="stat-label">æ´»è·ƒé¡¹ç›®</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completionRate">0%</div>
                    <div class="stat-label">å®Œæˆç‡</div>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="weeklyReview()">ğŸ“… æ¯å‘¨å›é¡¾</button>
        </div>

        <div class="footer">
            <p>Â© å°è‹è¶£ç ”AI | åŸºäºã€Šå°å¼ºå‡èŒè®°ã€‹GTDæ–¹æ³•è®º</p>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡† -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <h3>å¤„ç†ä»»åŠ¡</h3>
            <div style="margin: 20px 0;">
                <label>ä»»åŠ¡å†…å®¹ï¼š</label>
                <input type="text" id="taskContent" style="width: 100%; padding: 8px; margin: 5px 0;">
            </div>
            <div style="margin: 20px 0;">
                <label>åˆ†ç±»åˆ°ï¼š</label>
                <select id="taskCategory" style="width: 100%; padding: 8px; margin: 5px 0;">
                    <option value="q1">é‡è¦ä¸”ç´§æ€¥</option>
                    <option value="q2">é‡è¦ä¸ç´§æ€¥</option>
                    <option value="q3">ç´§æ€¥ä¸é‡è¦</option>
                    <option value="q4">ä¸é‡è¦ä¸ç´§æ€¥</option>
                </select>
            </div>
            <div style="margin: 20px 0;">
                <label>æƒ…å¢ƒï¼š</label>
                <select id="taskContext" style="width: 100%; padding: 8px; margin: 5px 0;">
                    <option value="computer">@ç”µè„‘</option>
                    <option value="phone">@ç”µè¯</option>
                    <option value="home">@å®¶é‡Œ</option>
                    <option value="office">@åŠå…¬å®¤</option>
                </select>
            </div>
            <div style="text-align: right; margin-top: 20px;">
                <button class="btn btn-danger" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="processTask()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    
                </div>
            </div>
                    <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                    <div class="result-display" id="result">
                        <pre id="resultContent">å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...</pre>
                    </div>
                </div>
            </div>
        </main>

        <!-- å·¥å…·é¡µè„š -->
        <footer class="tool-footer">
            <p>ç”± <a href="../../index.html">AIå·¥å…·é›†</a> æä¾› | åŸåˆ›å·¥å…·</p>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="../../shared/js/utils.js"></script>
    <script>
        // å·¥å…·ç‰¹å®šçš„JavaScriptä»£ç 
        class ToolApp {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
            }

            setupEventListeners() {
                document.getElementById('processBtn').addEventListener('click', () => this.process());
                document.getElementById('clearBtn').addEventListener('click', () => this.clear());
                document.getElementById('copyBtn').addEventListener('click', () => this.copyResult());
                
                // å®æ—¶å¤„ç†ï¼ˆå¯é€‰ï¼‰
                document.getElementById('input').addEventListener('input', 
                    ToolUtils.debounce(() => this.process(), 300)
                );
            }

            process() {
                const input = document.getElementById('input').value;
                const result = this.processInput(input);
                this.displayResult(result);
            }

            processInput(input) {
                
        // æ•°æ®å­˜å‚¨
        let gtdData = {
            inbox: [],
            tasks: {
                q1: [], q2: [], q3: [], q4: []
            },
            projects: [],
            contexts: {
                computer: [], phone: [], home: [], office: []
            }
        };

        // åŠ è½½æ•°æ®
        function loadData() {
            const saved = localStorage.getItem('gtdData');
            if (saved) {
                gtdData = JSON.parse(saved);
            }
            renderAll();
        }

        // ä¿å­˜æ•°æ®
        function saveData() {
            localStorage.setItem('gtdData', JSON.stringify(gtdData));
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'review') {
                updateReviewStats();
            }
        }

        // æ”¶é›†ç®±åŠŸèƒ½
        function addToInbox() {
            const input = document.getElementById('inboxInput');
            const content = input.value.trim();
            
            if (content) {
                gtdData.inbox.push({
                    id: Date.now(),
                    content: content,
                    timestamp: new Date().toLocaleString()
                });
                input.value = '';
                renderInbox();
                saveData();
            }
        }

        function handleInboxEnter(event) {
            if (event.key === 'Enter') {
                addToInbox();
            }
        }

        function renderInbox() {
            const list = document.getElementById('inboxList');
            list.innerHTML = gtdData.inbox.map(item => `
                <div class="task-item" onclick="processInboxItem(${item.id})">
                    <div style="font-weight: bold;">${item.content}</div>
                    <div style="font-size: 12px; color: #666; margin-top: 5px;">${item.timestamp}</div>
                </div>
            `).join('');
        }

        let currentProcessingItem = null;

        function processInboxItem(id) {
            currentProcessingItem = gtdData.inbox.find(item => item.id === id);
            document.getElementById('taskContent').value = currentProcessingItem.content;
            document.getElementById('taskModal').style.display = 'block';
        }

        function processTask() {
            if (!currentProcessingItem) return;
            
            const category = document.getElementById('taskCategory').value;
            const context = document.getElementById('taskContext').value;
            const content = document.getElementById('taskContent').value;
            
            const task = {
                id: Date.now(),
                content: content,
                completed: false,
                context: context,
                timestamp: new Date().toLocaleString()
            };
            
            gtdData.tasks[category].push(task);
            gtdData.contexts[context].push(task);
            
            // ä»æ”¶é›†ç®±ç§»é™¤
            gtdData.inbox = gtdData.inbox.filter(item => item.id !== currentProcessingItem.id);
            
            closeModal();
            renderAll();
            saveData();
        }

        function closeModal() {
            document.getElementById('taskModal').style.display = 'none';
            currentProcessingItem = null;
        }

        // æ¸²æŸ“å››è±¡é™
        function renderMatrix() {
            ['q1', 'q2', 'q3', 'q4'].forEach(quadrant => {
                const container = document.getElementById(`${quadrant}-tasks`);
                container.innerHTML = gtdData.tasks[quadrant].map(task => `
                    <div class="task-item ${task.completed ? 'completed' : ''}" onclick="toggleTask('${quadrant}', ${task.id})">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" ${task.completed ? 'checked' : ''} onclick="event.stopPropagation()">
                            <span style="${task.completed ? 'text-decoration: line-through; opacity: 0.6;' : ''}">${task.content}</span>
                        </div>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">${task.timestamp}</div>
                    </div>
                `).join('');
            });
        }

        // æ¸²æŸ“æƒ…å¢ƒ
        function renderContexts() {
            Object.keys(gtdData.contexts).forEach(context => {
                const container = document.getElementById(`context-${context}`);
                container.innerHTML = gtdData.contexts[context].map(task => `
                    <div class="task-item ${task.completed ? 'completed' : ''}" onclick="toggleTaskInContext('${context}', ${task.id})">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" ${task.completed ? 'checked' : ''} onclick="event.stopPropagation()">
                            <span style="${task.completed ? 'text-decoration: line-through; opacity: 0.6;' : ''}">${task.content}</span>
                        </div>
                    </div>
                `).join('');
            });
        }

        function toggleTask(quadrant, taskId) {
            const task = gtdData.tasks[quadrant].find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                // åŒæ­¥æ›´æ–°æƒ…å¢ƒä¸­çš„ä»»åŠ¡
                const contextTask = gtdData.contexts[task.context].find(t => t.id === taskId);
                if (contextTask) {
                    contextTask.completed = task.completed;
                }
                renderAll();
                saveData();
            }
        }

        function toggleTaskInContext(context, taskId) {
            const task = gtdData.contexts[context].find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                // åŒæ­¥æ›´æ–°å››è±¡é™ä¸­çš„ä»»åŠ¡
                Object.keys(gtdData.tasks).forEach(quadrant => {
                    const quadrantTask = gtdData.tasks[quadrant].find(t => t.id === taskId);
                    if (quadrantTask) {
                        quadrantTask.completed = task.completed;
                    }
                });
                renderAll();
                saveData();
            }
        }

        // æ›´æ–°å›é¡¾ç»Ÿè®¡
        function updateReviewStats() {
            let totalTasks = 0;
            let completedTasks = 0;
            
            Object.values(gtdData.tasks).forEach(quadrant => {
                totalTasks += quadrant.length;
                completedTasks += quadrant.filter(task => task.completed).length;
            });
            
            const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('activeProjects').textContent = gtdData.projects.length;
            document.getElementById('completionRate').textContent = completionRate + '%';
        }

        function weeklyReview() {
            alert('æ¯å‘¨å›é¡¾æé†’ï¼š\n\n1. æ£€æŸ¥æ”¶é›†ç®±æ˜¯å¦æ¸…ç©º\n2. å›é¡¾é¡¹ç›®è¿›å±•\n3. æ›´æ–°ä¸‹ä¸€æ­¥è¡ŒåŠ¨\n4. è°ƒæ•´ä¼˜å…ˆçº§\n5. æ¸…ç†å·²å®Œæˆä»»åŠ¡');
        }

        // æ¸²æŸ“æ‰€æœ‰å†…å®¹
        function renderAll() {
            renderInbox();
            renderMatrix();
            renderContexts();
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            
            // è®¾ç½®å®šæ—¶æé†’
            setInterval(() => {
                if (gtdData.inbox.length > 10) {
                    console.log('æ”¶é›†ç®±æé†’ï¼šå»ºè®®åŠæ—¶å¤„ç†æ”¶é›†ç®±ä¸­çš„å†…å®¹');
                }
            }, 300000); // 5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
        });
    
                return input;
            }

            displayResult(result) {
                document.getElementById('resultContent').textContent = result;
            }

            clear() {
                document.getElementById('input').value = '';
                document.getElementById('resultContent').textContent = 'å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...';
            }

            copyResult() {
                const result = document.getElementById('resultContent').textContent;
                if (result && result !== 'å¤„ç†ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...') {
                    ToolUtils.copyToClipboard(result);
                } else {
                    ToolUtils.showToast('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'warning');
                }
            }
        }

        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => {
            new ToolApp();
        });
    </script>
</body>
</html>
